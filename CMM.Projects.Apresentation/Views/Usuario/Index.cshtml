@model IEnumerable<CMM.Projects.Apresentation.Models.SystemUserModelView>
@using CMM.Projects.Apresentation.Utils;

@{
    ViewData["TituloPagina"] = "Consulta Usuarios";


}
<div class="row m-b-15">
    <div class="col-sm-12">
        <div class="card">
            <div class="card-body">
                <a class=" btn btn-sm btn-primary waves-effect waves-light text-white m-1" href="@Url.Action("Register","Usuario")" style="margin-left:20px"><i class="fa fa-plus"></i> Novo Usuario</a>

                <div id="datatable-buttons_wrapper" class="dataTables_wrapper dt-bootstrap4 no-footer">
                    <table class="table table-striped table-bordered fixed dt-responsive nowrap dataTable no-footer collapsed" id="datatable">
                        <thead class="text-center">
                            <tr>
                                <th>
                                    @Html.DisplayNameFor(model => model.SUSR_ID)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.SUSR_NAME)
                                </th>

                                <th>
                                    @Html.DisplayNameFor(model => model.SIS_ID)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.SUSR_PERFIL)
                                </th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model)
                            {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.SUSR_ID)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.SUSR_NAME)
                                </td>

                                <td>
                                    @if (item.SIS_ID.HasValue)
                                    {
                                        @item.SIS_ID.Descricao()
                                    }
                                </td>
                                <td>
                                    @if (item.SUSR_PERFIL.HasValue)
                                    {
                                        @item.SUSR_PERFIL.Descricao()
                                    }
                                </td>
                                <td>
                                    @Html.ActionLink("Editar", "Register", new { id = item.SUSR_ID }, new { @class = "btn-sm btn-outline-primary" }) |
                                    @Html.ActionLink("Excluir", "Delete", new { id = item.SUSR_ID }, new { @class = "btn-sm btn-outline-primary" })
                                </td>
                            </tr>
                            }
                        </tbody>

                    </table>
                </div>
            </div>
        </div>
    </div>
    </div>
    <link href="~/Scripts/Grid/DataTables-1.10.16/css/dataTables.bootstrap4.min.css" rel="stylesheet" />
    <link href="~/Scripts/Grid/Responsive-2.2.1/css/responsive.bootstrap4.min.css" rel="stylesheet" />

    @section scripts{
        @Scripts.Render("~/bundles/Grid")

        <script type="text/javascript">
            var dataTable;
            $(document).ready(function () {


                $("#datatable").dataTable({
                    "autoWidth": false,
                    "order":
                        [0, "asc"],
                    "dom": '<"toolbar">frtip'
                });


            });



        </script>
    }

@model IEnumerable<CMM.Projects.Apresentation.Models.PontoImportacaoModelView>
@{
    ViewData["TituloPagina"] = "Importações";
}

<div class="row">
    <div class="col-sm-12">
        <div class="card">
            <div class="card-body">
                <div class="row-sm-12">

                    <a class=" btn btn-sm btn-primary waves-effect waves-light text-white m-1" onclick=abrirModal('@Url.Action("Create")')><i class="fa fa-plus"></i> Nova Importação</a>
                    <a class=" btn btn-sm btn-primary waves-effect waves-light text-white m-1" onclick=abrirModal('@Url.Action("ImportarArquivo")')><i class="fa fa-plus"></i> Nova Importação Arquivo Texto</a>

                </div>

                <div class="row-sm-12">
                    <div id="datatable-buttons_wrapper" class="dataTables_wrapper dt-bootstrap4 no-footer">
                        <table class="table table-striped table-bordered dt-responsive nowrap dataTable no-footer dtr-inline collapsed" id="datatable">
                            <thead>
                                <tr>
                                    <th>
                                        @Html.DisplayNameFor(model => model.PONIMP_ID)
                                    </th>
                                    <th>
                                        @Html.DisplayNameFor(model => model.PONIMP_DATAINICIO)
                                    </th>
                                    <th>
                                        @Html.DisplayNameFor(model => model.PONIMP_DATAFIM)
                                    </th>
                                    <th>
                                        @Html.DisplayNameFor(model => model.PONIMP_TOTAL)
                                    </th>
                                    <th>
                                        @Html.DisplayNameFor(model => model.PONIMP_OBSERVACAO)
                                    </th>
               
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in (List<CMM.Projects.Apresentation.Models.PontoImportacaoModelView>)TempData["ListImportacao"])
                                {
                                                               <tr>
                                                                   <td>
                                                                       @Html.DisplayFor(modelItem => item.PONIMP_ID)
                                                                   </td>
                                                                  
                                                                   <td>
                                                                       @item.PONIMP_DATAINICIO.Value.ToShortDateString()
                                                                   </td>
                                                                   <td>
                                                                       @item.PONIMP_DATAFIM.Value.ToShortDateString()
                                                                   </td>
                                                                   <td>
                                                                       @Html.DisplayFor(modelItem => item.PONIMP_TOTAL)
                                                                   </td>
                                                                   <td>
                                                                       @Html.DisplayFor(modelItem => item.PONIMP_OBSERVACAO)
                                                                   </td>
                                                                   @*<td>
            @Html.ActionLink("Edit", "Edit", new { id = item.PONIMP_ID }) |
            @Html.ActionLink("Details", "Details", new { id = item.PONIMP_ID }) |
            @Html.ActionLink("Delete", "Delete", new { id = item.PONIMP_ID })
        </td>*@
                                                                
                                                               </tr>
                                }
                                </tbody>

                            </table>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    @section scripts{
        @Scripts.Render("~/bundles/Grid")
        <script src="~/Scripts/moment.min.js"></script>
        <script src="~/Scripts/Grid/datetime-moment.js"></script>
        <script type="text/javascript">
            var dataTable;
            $(document).ready(function () {
                $.fn.dataTable.moment('DD/MM/YYYY');


                $("#datatable").dataTable({
                    "autoWidth": false,
                    "dom":
                        "Bfrtip",
                    "order":
                        [0, "desc"],
                });


            });



        </script>
    }
